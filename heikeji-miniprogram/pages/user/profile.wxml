<!-- pages/user/profile.wxml -->
<view class="container">
  <!-- ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ -->
  <view class="user-card">
    <view class="user-info">
      <image class="avatar" src="{{userInfo.avatarUrl || '/assets/images/default-avatar.png'}}" bindtap="onEditProfile"></image>
      <view class="user-details" bindtap="onEditProfile">
        <text class="nickname">{{userInfo.nickName || 'é»‘ç§‘æ˜“è´­ç”¨æˆ·'}}</text>
        <text class="student-info" wx:if="{{userInfo.studentId}}">å­¦å·ï¼š{{userInfo.studentId}}</text>
        <text class="campus-info" wx:if="{{userInfo.campus}}">{{userInfo.campus}}</text>
      </view>
      <text class="edit-btn">ç¼–è¾‘</text>
    </view>
  </view>

  <!-- ç»Ÿè®¡ä¿¡æ¯ -->
  <view class="stats-section">
    <view class="stats-card" bindtap="onViewOrders" data-type="all">
      <text class="stats-number">{{stats.totalOrders}}</text>
      <text class="stats-label">å…¨éƒ¨è®¢å•</text>
    </view>
    <view class="stats-card" bindtap="onViewOrders" data-type="pending">
      <text class="stats-number">{{stats.pendingOrders}}</text>
      <text class="stats-label">è¿›è¡Œä¸­</text>
    </view>
    <view class="stats-card" bindtap="onViewOrders" data-type="completed">
      <text class="stats-number">{{stats.completedOrders}}</text>
      <text class="stats-label">å·²å®Œæˆ</text>
    </view>
    <view class="stats-card" bindtap="onViewOrders" data-type="wallet">
      <text class="stats-number">Â¥{{stats.walletBalance}}</text>
      <text class="stats-label">é’±åŒ…ä½™é¢</text>
    </view>
  </view>

  <!-- åŠŸèƒ½èœå• -->
  <view class="menu-section">
    <view class="menu-item" wx:for="{{menuItems}}" wx:key="id" data-id="{{item.id}}" data-url="{{item.url}}" bindtap="onMenuItemTap">
      <view class="menu-left">
        <text class="menu-icon">{{item.icon}}</text>
        <text class="menu-name">{{item.name}}</text>
      </view>
      <text class="menu-arrow">></text>
    </view>
  </view>

  <!-- å…¶ä»–æ“ä½œ -->
  <view class="action-section">
    <view class="action-item" bindtap="onClearCache">
      <text class="action-icon">ğŸ—‘ï¸</text>
      <text class="action-name">æ¸…é™¤ç¼“å­˜</text>
      <text class="action-arrow">></text>
    </view>
    <view class="action-item" bindtap="onLogout">
      <text class="action-icon">ğŸšª</text>
      <text class="action-name">é€€å‡ºç™»å½•</text>
      <text class="action-arrow">></text>
    </view>
  </view>
</view>