<!-- pages/user/address.wxml -->
<view class="container">
  <!-- 页面标题 -->
  <view class="page-header">
    <text class="page-title">收货地址</text>
    <text class="add-btn" bindtap="onAddAddress">+ 新增地址</text>
  </view>

  <!-- 地址列表 -->
  <view class="address-list" wx:if="{{addresses.length > 0}}">
    <view 
      class="address-item" 
      wx:for="{{addresses}}" 
      wx:key="addressId" 
      bindtap="onEditAddress" 
      data-id="{{item.addressId}}"
    >
      <!-- 地址头部 -->
      <view class="address-header">
        <view class="contact-info">
          <text class="contact-name">{{item.name}}</text>
          <text class="contact-phone">{{item.phone}}</text>
        </view>
        <view class="address-tags">
          <text class="default-tag" wx:if="{{item.isDefault}}">默认</text>
        </view>
      </view>

      <!-- 地址详情 -->
      <view class="address-detail">
        <text class="detail-text">{{item.province}} {{item.city}} {{item.district}} {{item.address}}</text>
      </view>

      <!-- 地址操作 -->
      <view class="address-actions">
        <view class="action-item" bindtap="onSetDefault" data-id="{{item.addressId}}" catchtap>
          <text class="action-text" wx:if="{{!item.isDefault}}">设为默认</text>
          <text class="action-text default" wx:else>默认地址</text>
        </view>
        <view class="action-divider"></view>
        <view class="action-item" bindtap="onEditAddress" data-id="{{item.addressId}}" catchtap>
          <text class="action-text">编辑</text>
        </view>
        <view class="action-divider"></view>
        <view class="action-item" bindtap="onDeleteAddress" data-id="{{item.addressId}}" catchtap>
          <text class="action-text danger">删除</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 空地址提示 -->
  <view class="empty-address" wx:else>
    <image class="empty-icon" src="/assets/images/empty-address.png"></image>
    <text class="empty-text">暂无收货地址</text>
    <button class="add-first-btn" bindtap="onAddAddress">添加收货地址</button>
  </view>
</view>