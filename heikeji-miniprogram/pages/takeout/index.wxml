<!-- 外卖首页 -->
<view class="takeout-container">
  <!-- 搜索栏 -->
  <view class="search-bar">
    <input type="text" placeholder="搜索商家或菜品" bindinput="onSearchInput" bindconfirm="onSearch" />
    <button bindtap="onSearch" class="search-btn">搜索</button>
  </view>

  <!-- 分类导航 -->
  <scroll-view scroll-x="true" class="category-scroll">
    <view class="category-item {{currentCategory == item.id ? 'active' : ''}}" 
          wx:for="{{categories}}" 
          wx:key="id" 
          bindtap="onCategoryChange" 
          data-id="{{item.id}}">
      <image src="{{item.icon}}" mode="aspectFit" class="category-icon" lazy-load="true" />
      <text>{{item.name}}</text>
    </view>
  </scroll-view>

  <!-- 商家列表 -->
  <scroll-view scroll-y="true" class="merchant-list" bindscrolltolower="onLoadMore">
    <view class="merchant-item" 
          wx:for="{{merchants}}" 
          wx:key="id" 
          bindtap="navigateToMerchant" 
          data-id="{{item.id}}">
      <!-- 商家图片 -->
      <image src="{{item.imageUrl || '/assets/icons/merchant-default.png'}}" mode="aspectFill" class="merchant-image" lazy-load="true" />
      
      <!-- 商家信息 -->
      <view class="merchant-info">
        <view class="merchant-header">
          <text class="merchant-name">{{item.name}}</text>
          <text class="merchant-rating">{{item.rating}} ★</text>
        </view>
        
        <view class="merchant-desc">{{item.description}}</view>
        
        <view class="merchant-meta">
          <text class="merchant-distance">{{item.distance}}m</text>
          <text class="merchant-delivery">配送费{{item.deliveryFee}}元起</text>
          <text class="merchant-min-order">起送价{{item.minOrder}}元</text>
        </view>
        
        <view class="merchant-status" wx:if="{{item.status == 1}}">
          <text class="status-open">营业中</text>
        </view>
        <view class="merchant-status" wx:else>
          <text class="status-closed">已打烊</text>
        </view>
      </view>
    </view>
    
    <!-- 加载更多 -->
    <view class="load-more" wx:if="{{hasMore}}">
      <text>加载中...</text>
    </view>
    <view class="load-more" wx:else>
      <text>已加载全部</text>
    </view>
  </scroll-view>
</view>