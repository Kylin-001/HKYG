<!-- 校园服务首页 -->
<view class="page-container">
  <!-- 页面头部 -->
  <view class="header">
    <text class="title">校园服务</text>
  </view>

  <!-- 搜索栏 -->
  <view class="search-bar">
    <view class="search-input" bindtap="onSearch">
      <image src="/assets/icons/search.png" class="search-icon" mode="aspectFit"></image>
      <text class="placeholder">搜索校园服务...</text>
    </view>
  </view>

  <!-- 服务分类 -->
  <view class="service-categories">
    <view class="category-item" bindtap="navigateToService" data-type="empty_classroom">
      <image src="/assets/icons/classroom.png" class="category-icon" mode="aspectFit"></image>
      <text class="category-name">空教室查询</text>
    </view>
    <view class="category-item" bindtap="navigateToService" data-type="announcement">
      <image src="/assets/icons/announcement.png" class="category-icon" mode="aspectFit"></image>
      <text class="category-name">校园公告</text>
    </view>
    <view class="category-item" bindtap="navigateToService" data-type="campus_map">
      <image src="/assets/icons/map.png" class="category-icon" mode="aspectFit"></image>
      <text class="category-name">校园地图</text>
    </view>
    <view class="category-item" bindtap="navigateToService" data-type="campus_activity">
      <image src="/assets/icons/activity.png" class="category-icon" mode="aspectFit"></image>
      <text class="category-name">校园活动</text>
    </view>
    <view class="category-item" bindtap="navigateToService" data-type="dorm_service">
      <image src="/assets/icons/dorm.png" class="category-icon" mode="aspectFit"></image>
      <text class="category-name">宿舍服务</text>
    </view>
    <view class="category-item" bindtap="navigateToService" data-type="library">
      <image src="/assets/icons/library.png" class="category-icon" mode="aspectFit"></image>
      <text class="category-name">图书馆</text>
    </view>
  </view>

  <!-- 最新公告 -->
  <view class="section">
    <view class="section-header">
      <text class="section-title">最新公告</text>
      <text class="more" bindtap="navigateToAnnouncementList">查看更多</text>
    </view>
    <view class="announcement-list">
      <view class="announcement-item" wx:for="{{announcements}}" wx:key="id" bindtap="navigateToAnnouncementDetail" data-id="{{item.id}}">
        <text class="announcement-title">{{item.title}}</text>
        <text class="announcement-time">{{item.createTime}}</text>
      </view>
    </view>
  </view>

  <!-- 空教室推荐 -->
  <view class="section">
    <view class="section-header">
      <text class="section-title">当前空教室</text>
      <text class="more" bindtap="navigateToEmptyClassroom">查看更多</text>
    </view>
    <view class="classroom-list">
      <view class="classroom-item" wx:for="{{currentEmptyClassrooms}}" wx:key="id" bindtap="navigateToClassroomDetail" data-id="{{item.id}}">
        <text class="classroom-name">{{item.name}}</text>
        <text class="classroom-location">{{item.building}} {{item.floor}}层</text>
        <text class="classroom-status empty">当前空</text>
      </view>
    </view>
  </view>
</view>
