<!-- 商品商城详情页面 -->
<view class="container">
  <!-- 页面头部 -->
  <view class="header">
    <view class="header-left" bindtap="onBack">
      <image src="/assets/icons/back.png" class="back-icon" mode="aspectFit"></image>
    </view>
    <view class="header-right">
      <image src="/assets/icons/share.png" class="header-icon" mode="aspectFit" bindtap="onShare"></image>
      <image src="/assets/icons/collect.png" class="header-icon {{isCollected ? 'active' : ''}}" mode="aspectFit" bindtap="onCollect"></image>
      <image src="/assets/icons/cart.png" class="header-icon" mode="aspectFit" bindtap="navigateToCart"></image>
    </view>
  </view>

  <!-- 商品图片轮播 -->
  <view class="image-section">
    <swiper 
      class="image-swiper" 
      indicator-dots="{{true}}" 
      indicator-active-color="#ffffff" 
      autoplay="{{true}}" 
      interval="3000" 
      duration="500"
    >
      <block wx:for="{{product.images}}" wx:key="index">
        <swiper-item>
          <image src="{{item}}" class="swiper-image" mode="aspectFit" lazy-load="true"></image>
        </swiper-item>
      </block>
    </swiper>
  </view>

  <!-- 商品基本信息 -->
  <view class="info-section">
    <text class="product-name">{{product.name}}</text>
    <text class="product-description">{{product.description}}</text>
    
    <view class="price-section">
      <text class="current-price">¥{{product.price}}</text>
      <text wx:if="{{product.originalPrice}}" class="original-price">¥{{product.originalPrice}}</text>
      <view wx:if="{{product.discount > 0}}" class="discount-tag">
        {{product.discount}}折
      </view>
    </view>
    
    <view class="stats-section">
      <text class="stat-item">销量 {{product.sales}}+</text>
      <text class="stat-item">库存 {{product.stock}}件</text>
      <text class="stat-item">好评率 {{product.rating}}%</text>
    </view>
  </view>

  <!-- 商品详情描述 -->
  <view class="detail-section">
    <view class="section-title">商品详情</view>
    <view class="detail-content">
      <block wx:for="{{product.detailImages}}" wx:key="index">
        <image src="{{item}}" class="detail-image" mode="widthFix" lazy-load="true"></image>
      </block>
      <text class="detail-text">{{product.detailText || '暂无详细描述'}}</text>
    </view>
  </view>

  <!-- 购买操作栏 -->
  <view class="buy-section">
    <view class="quantity-selector">
      <view class="quantity-btn" bindtap="decreaseQuantity" wx:if="{{quantity > 1}}">
        <image src="/assets/icons/minus.png" class="quantity-icon" mode="aspectFit"></image>
      </view>
      <view class="quantity-value">{{quantity}}</view>
      <view class="quantity-btn" bindtap="increaseQuantity" wx:if="{{quantity < product.stock}}">
        <image src="/assets/icons/plus.png" class="quantity-icon" mode="aspectFit"></image>
      </view>
    </view>
    
    <view class="action-buttons">
      <button class="cart-btn" bindtap="addCart">
        <image src="/assets/icons/add-to-cart.png" class="btn-icon" mode="aspectFit"></image>
        加入购物车
      </button>
      <button class="buy-btn" type="primary" bindtap="buyNow">立即购买</button>
    </view>
  </view>
</view>
