# 黑龙江科技大学特色校园服务平台架构设计

## 1. 项目概述

黑科易购是为黑龙江科技大学（简称"黑科大"）定制的校园综合服务平台，结合学校作为黑龙江省人民政府与国家应急管理部共建高校的特色，以及哈尔滨地区的校园生活需求，提供商品商城、校园外卖、快递代取、校园服务等功能。平台采用微服务架构，支持PC管理后台、微信小程序和APP三种终端。

## 2. 校园特色需求分析

### 2.1 黑科大校园环境特点
- 位于哈尔滨市，东北地区特殊气候条件
- 综合性大学，学生规模较大
- 校园内餐饮需求旺盛，外卖服务需求明显
- 快递服务需求量大，集中配送点管理需求

### 2.2 学生核心需求
- 校园餐饮与外卖服务
- 快递代收代取服务
- 校园生活必需品购买
- 校园信息发布与交流
- 便捷的支付与结算方式

## 3. 优化后的项目架构

```
heikeji-mall/
├── heikeji-common/              # 通用模块
│   ├── common-core/            # 核心工具类、常量、异常定义
│   ├── common-db/              # 数据库相关公共组件
│   └── common-security/        # 安全相关，JWT工具类
├── heikeji-gateway/            # API网关模块
├── heikeji-system/             # 系统模块（用户、角色、权限管理）
├── heikeji-auth/               # 认证授权模块
├── heikeji-mall-api/           # API接口模块，定义对外接口和DTO
├── heikeji-mall-service/       # 核心业务服务模块
│   ├── service-user/           # 用户服务
│   │   └── src/main/java/com/heikeji/user/campus/ # 校园用户特色功能
│   ├── service-product/        # 商品服务
│   │   └── src/main/java/com/heikeji/product/category/ # 校园特色商品分类
│   ├── service-order/          # 订单服务
│   ├── service-delivery/       # 配送服务（新增校园快递代取）
│   │   └── src/main/java/com/heikeji/delivery/campus/ # 校园配送特色功能
│   ├── service-takeout/        # 外卖服务（优化校园食堂对接）
│   │   └── src/main/java/com/heikeji/takeout/canteen/ # 食堂外卖功能
│   ├── service-payment/        # 支付服务
│   ├── service-campus/         # 校园信息服务（增强版）
│   │   └── src/main/java/com/heikeji/campus/ # 黑科大校园信息管理
│   └── service-community/      # 新增校园社区服务
├── heikeji-mall-job/           # 定时任务模块
├── heikeji-admin/              # 后台管理端API
├── heikeji-app/                # 应用手机APP
├── heikeji-miniprogram/        # 微信小程序（校园版）
├── heikeji-frontend/           # 前端模块（管理后台）
│   └── src/views/campus/       # 校园特色管理页面
├── sql/                        # 数据库初始化脚本
│   └── heikeji_campus_data.sql # 黑科大校园数据
└── docs/                       # 项目文档
    └── 黑龙江科技大学特色功能说明.md  # 校园特色功能文档
```

## 4. 核心模块优化设计

### 4.1 用户服务(service-user)优化
- **校园用户身份认证**：对接黑科大统一身份认证系统
- **学生信息管理**：班级、学号、学院等校园特色信息
- **校园角色体系**：学生、教职工、管理员、商家、配送员等
- **校园地址管理**：宿舍楼栋、教学楼等校园特色地址

### 4.2 外卖服务(service-takeout)优化
- **食堂档口接入**：对接黑科大各食堂档口
- **校园餐饮特色**：早餐预订、团体订餐、校园餐饮活动
- **保温配送方案**：针对哈尔滨冬季寒冷气候的保温措施
- **错峰配送系统**：避免用餐高峰期配送压力

### 4.3 配送服务(service-delivery)增强
- **快递代取服务**：校园快递点对接与代取功能
- **校园跑腿服务**：物品代买、文件代送等校园服务
- **智能配送路径**：基于校园地图的最优配送路线
- **配送员管理**：学生兼职配送员招募与管理

### 4.4 校园服务(service-campus)全新设计
- **校园地图服务**：黑科大校园地图与导航
- **校园公告发布**：学校官方通知与活动发布
- **校园资源查询**：图书馆、体育馆等资源查询
- **校园社区**：学生交流、二手交易、失物招领等

### 4.5 新增社区服务(service-community)
- **二手市场**：学生间物品交易平台
- **失物招领**：校园失物招领信息发布
- **校园活动**：学生社团活动发布与报名
- **学习互助**：课程资料分享、学习小组招募

## 5. 技术架构升级

### 5.1 后端技术栈升级
- **Java 17**：升级到Java 17，提升性能和安全性
- **Spring Boot 3.x**：采用最新版本，支持现代Java特性
- **Spring Cloud 2023.x**：微服务架构升级
- **Redis Cluster**：高可用缓存集群，提升并发性能
- **Elasticsearch**：优化搜索功能，支持复杂查询
- **WebSocket**：实时消息推送，提升用户体验

### 5.2 前端技术栈升级
- **Vue 3.5.x**：升级到Vue 3，使用Composition API
- **Pinia**：替代Vuex，更现代化的状态管理
- **Element Plus**：升级到Element Plus，支持Vue 3
- **Vite**：替代Webpack，提升开发和构建效率
- **TypeScript**：增加类型安全，提升代码质量

### 5.3 运维架构优化
- **Docker容器化**：所有服务容器化部署
- **Kubernetes编排**：自动化容器编排和管理
- **CI/CD流水线**：自动化测试、构建和部署
- **监控告警系统**：完善的服务监控和告警机制
- **日志聚合分析**：集中式日志管理和分析

## 6. 数据模型优化

### 6.1 用户数据模型
```java
public class CampusUser extends BaseUser {
    private String studentId;     // 学号
    private String college;       // 学院
    private String major;         // 专业
    private String className;     // 班级
    private String dormitory;     // 宿舍
    private Integer userType;     // 用户类型(学生/教职工等)
    // getter/setter
}
```

### 6.2 校园地址模型
```java
public class CampusAddress extends BaseAddress {
    private String campusArea;    // 校区
    private String buildingType;  // 建筑类型(宿舍/教学楼等)
    private String buildingNo;    // 楼栋号
    private String roomNo;        // 房间号
    private String landmark;      // 地标
    // getter/setter
}
```

### 6.3 校园服务模型
```java
public class CampusService {
    private Long id;
    private String serviceName;   // 服务名称
    private String serviceType;   // 服务类型
    private String location;      // 服务地点
    private String description;   // 服务描述
    private String contactInfo;   // 联系方式
    private LocalDateTime operatingHours; // 营业时间
    // getter/setter
}
```

## 7. 特色功能设计

### 7.1 校园一键登录
- 支持通过黑科大统一身份认证系统一键登录
- 自动获取学生信息，无需手动填写

### 7.2 食堂智能点餐
- 支持各食堂档口菜品展示和点餐
- 预订功能，避免排队等候
- 错峰用餐引导，合理分配用餐时间

### 7.3 快递智能管理
- 快递到件自动通知
- 智能快递柜对接
- 学生代取服务，解决取件难问题

### 7.4 校园生活圈
- 基于地理位置的校园社交
- 学生兴趣群组功能
- 校园活动发布与报名

### 7.5 寒地特色服务
- 冬季配送保温保障
- 恶劣天气应急预案
- 季节性商品推荐

## 8. 部署架构

### 8.1 服务器部署
- **校内服务器**：核心业务服务部署在校内
- **云服务器**：部分非核心服务可部署在云端
- **混合云架构**：结合校内和云端优势

### 8.2 网络安全
- 校园网专线接入
- 数据加密传输
- 严格的访问控制
- 定期安全审计

## 9. 实施路线图

### 9.1 第一阶段：基础功能完善
- 核心商城和外卖功能优化
- 校园用户体系建设
- 基础数据导入

### 9.2 第二阶段：校园特色功能开发
- 食堂对接和智能点餐
- 快递代取服务
- 校园社区功能

### 9.3 第三阶段：系统优化和扩展
- 性能优化和压力测试
- 用户体验提升
- 数据分析和个性化推荐

## 10. 运营策略

### 10.1 学生参与机制
- 学生创业入驻
- 勤工俭学岗位提供
- 校园大使计划

### 10.2 商家合作模式
- 食堂档口合作
- 校园周边商家入驻
- 校企合作项目

### 10.3 推广方案
- 新生入学季重点推广
- 校园活动赞助
- 社交平台宣传

---

本架构设计充分考虑了黑龙江科技大学的校园特色和学生需求，通过优化现有功能和新增校园特色服务，打造一个真正符合黑科大师生使用的综合性校园服务平台。