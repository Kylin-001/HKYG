# 外卖柜监控界面使用指南

## 🎯 概述

外卖柜监控界面是校园智能服务系统的重要功能模块，为管理员提供了实时的设备状态监控、使用情况分析和管理工具。本指南将详细介绍如何使用新添加的监控功能。

## 🚀 快速开始

### 系统状态
- **后端服务**：✅ service-takeout 运行中 (端口 8005)
- **前端应用**：✅ 开发服务器运行中 (端口 8080)
- **访问地址**：http://localhost:8080/

### 登录系统
1. 打开浏览器访问：http://localhost:8080/
2. 使用管理员账号登录系统
3. 导航至外卖柜管理模块

## 📊 监控功能详解

### 1. 实时监控仪表板

#### 核心指标卡片
监控仪表板包含6个关键指标卡片：

| 指标 | 显示内容 | 颜色编码 | 趋势指示 |
|------|----------|----------|----------|
| 在线设备 | 在线柜子数量 | 🟢 绿色 | ↗️↘️→ |
| 离线设备 | 离线柜子数量 | 🔴 红色 | ↗️↘️→ |
| 平均使用率 | 设备使用百分比 | 🟡 橙色 | ↗️↘️→ |
| 设备告警 | 当前告警数量 | 🟠 红色 | ↗️↘️→ |
| 今日交易 | 当天取餐次数 | 🔵 蓝色 | ↗️↘️→ |
| 平均响应时间 | 操作响应时长 | 🟣 紫色 | ↗️↘️→ |

#### 刷新功能
- **自动刷新**：每30秒自动更新数据
- **手动刷新**：点击"刷新"按钮立即更新
- **最后更新时间**：显示最近一次数据更新时间

### 2. 监控图表

#### 设备状态分布图
- **图表类型**：饼状图
- **状态分类**：
  - 🟢 正常运行（绿色）
  - 🟡 使用中（橙色）
  - 🔴 离线（红色）
  - 🟠 维护中（黄色）
- **显示信息**：每种状态的数量和百分比

#### 24小时使用趋势图
- **图表类型**：线状图
- **时间跨度**：24小时（每小时一个数据点）
- **数据内容**：设备使用情况变化趋势
- **交互功能**：鼠标悬停查看详细数据

### 3. 趋势指标系统

#### 趋势显示
- **上升趋势** ↗️：指标较上次更新有所增长
- **下降趋势** ↘️：指标较上次更新有所下降
- **稳定状态** →：指标基本保持不变

#### 趋势计算
趋势指标基于以下算法：
```
趋势值 = (当前值 - 上次值) / 上次值 × 100%
```

### 4. 告警系统

#### 告警分类
- **设备离线**：设备连接中断
- **使用异常**：使用率异常过高或过低
- **维护提醒**：设备需要定期维护

#### 告警信息
- **告警时间**：告警发生的具体时间
- **告警级别**：一般/重要/紧急
- **处理状态**：已处理/处理中/未处理

## 🔧 功能使用说明

### 数据刷新
1. **自动模式**：系统每30秒自动刷新数据
2. **手动模式**：点击页面右上角刷新按钮
3. **状态**：刷新时显示加载动画

### 时间范围选择
- **实时**：显示最新数据
- **1小时**：查看最近1小时的趋势
- **24小时**：查看24小时完整趋势
- **7天**：查看一周的数据变化

### 响应式设计
- **桌面端**：完整功能界面，支持所有交互
- **平板端**：适配中等屏幕，保持核心功能
- **手机端**：简化界面，保留关键指标

## 📱 移动端访问

### 访问方式
1. 确保手机连接同一网络
2. 获取服务器IP：在终端运行 `ipconfig`
3. 访问地址：http://[服务器IP]:8080/

### 移动端特性
- **触摸优化**：大按钮，易于触摸操作
- **性能优化**：减少动画，提升响应速度
- **数据压缩**：适配移动网络环境

## 🔍 故障排除

### 常见问题

#### 1. 页面加载缓慢
**原因**：网络连接问题或服务器负载过高
**解决方案**：
- 检查网络连接
- 刷新页面
- 重启开发服务器

#### 2. 数据不更新
**原因**：自动刷新功能异常
**解决方案**：
- 手动点击刷新按钮
- 检查浏览器控制台错误信息
- 重启前端开发服务器

#### 3. 图表显示异常
**原因**：图表库加载问题
**解决方案**：
- 清除浏览器缓存
- 检查网络请求状态
- 重新编译前端资源

#### 4. 趋势指示不准确
**原因**：历史数据缺失
**解决方案**：
- 确保系统运行足够长的时间
- 检查数据采集是否正常

### 技术支持

#### 开发者工具
1. **浏览器控制台**：查看JavaScript错误
2. **网络面板**：检查API请求状态
3. **元素面板**：查看DOM结构

#### 日志查看
- **前端日志**：浏览器开发者工具控制台
- **后端日志**：终端输出或日志文件

## 🚀 高级功能

### 自定义监控
- **阈值设置**：为各项指标设置告警阈值
- **通知配置**：配置邮件或短信通知
- **数据导出**：导出监控数据用于分析

### 集成功能
- **API接口**：提供RESTful API供第三方调用
- **数据同步**：与校园其他系统数据同步
- **权限控制**：基于角色的访问控制

## 📈 性能优化

### 前端优化
- **代码分割**：按需加载组件
- **图片压缩**：减少资源大小
- **缓存策略**：合理使用浏览器缓存

### 后端优化
- **数据库优化**：索引优化，查询优化
- **缓存机制**：Redis缓存热点数据
- **负载均衡**：多实例部署

## 🎯 使用建议

### 日常监控
1. **定时查看**：建议每2小时查看一次监控状态
2. **及时处理**：发现告警后及时处理
3. **数据备份**：定期备份监控数据

### 最佳实践
1. **定期维护**：根据监控数据安排设备维护
2. **趋势分析**：定期分析使用趋势，优化运营策略
3. **用户反馈**：结合用户反馈完善监控功能

## 📞 联系我们

如遇到技术问题或需要功能定制，请联系开发团队：
- **技术支持**：查看项目README文档
- **功能建议**：通过GitHub Issues提交建议
- **紧急问题**：查看部署文档中的紧急联系信息

---

**文档版本**：v1.0  
**最后更新**：2025年11月25日  
**适用系统**：黑科易购校园智能服务系统 v1.0+